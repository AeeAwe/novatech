"use strict";window.addEventListener("DOMContentLoaded",()=>{const body=document.querySelector("body");const burger=document.querySelector(".header-burger"),actions=document.querySelector(".header-actions"),modalBookOverlay=document.querySelector(".modal-book__overlay");burger.addEventListener("click",e=>{e.target.closest(".header-burger")&&(actions.classList.toggle("active"),burger.classList.toggle("active"))});const callBook=actions.querySelector(".btn");callBook.addEventListener("click",e=>{modalBookOverlay.classList.toggle("show-modal")}),modalBookOverlay.addEventListener("click",e=>{e.target!=modalBookOverlay&&e.target!=document.querySelector(".close")||modalBookOverlay.classList.toggle("show-modal")});const heroSlider=()=>{const sliderContainer=document.querySelector('.slider');if(!sliderContainer)return;const slides=sliderContainer.querySelectorAll('.slider-item');const paginationContainer=sliderContainer.querySelector('.slider-pagination');if(slides.length===0||!paginationContainer)return;let currentIndex=0;let timerId=null;const slideInterval=4000;for(let i=0;i<slides.length;i++){const dot=document.createElement('div');dot.classList.add('pagination-item');dot.setAttribute('aria-label',`Перейти к слайду ${i + 1}`);dot.dataset.index=i;paginationContainer.appendChild(dot)}
const dots=paginationContainer.querySelectorAll('.pagination-item');const showSlide=(index)=>{slides.forEach(slide=>slide.classList.remove('active'));slides[index].classList.add('active');dots.forEach(dot=>dot.classList.remove('active'));dots[index].classList.add('active');currentIndex=index};const nextSlide=()=>{let newIndex=(currentIndex+1)%slides.length;showSlide(newIndex)};const startTimer=()=>{clearInterval(timerId);timerId=setInterval(nextSlide,slideInterval)};dots.forEach(dot=>{dot.addEventListener('click',(e)=>{const newIndex=parseInt(e.currentTarget.dataset.index);showSlide(newIndex);startTimer()})});showSlide(currentIndex);startTimer()};const checkLocate=()=>{const a=location.pathname,c=document.querySelectorAll("nav a");c.forEach(c=>{const t=c.getAttribute("href"),e=t.replace(/https?:\/\/[^\/]+(\/\S*)?/g,(c,t="")=>t||"/");e==a?c.classList.add("active-link"):e.includes("#")&&c.classList.add("disabled-link")};heroSlider();)};
